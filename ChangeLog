2017-09-01  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.9 released.

	* Playback: Fix skipping over empty directories while playing a
	  directory structure.

2017-07-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.8 released.

	* Misc: Adapted to internal interfaces for changes made in list
	  brokers v2.4.

2017-06-08  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.7 released.

	* Misc: Better log messages in case of D-Bus method call failures.

	* Misc: Improvements of introspection while debugging locking
	  problems.

2017-06-02  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.6 released.

	* Misc: Migration to new D-Bus configuration management code.

	* Misc: Avoid bug warnings.

2017-04-20  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.5 released.

	* Playback: Play icon is shown after resuming from pause. Regression
	  was introduced in v3.4.

	* Playback: Attempting to skip before first playable item during
	  playback does not confuse the player anymore.

	* Stability: Fix crash during fast skipping.

2017-04-11  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.4 released.

	* Playback: Support fast forward, fast reverse and seeking. Fast
	  winding modes are reported to the SPI slave so that they can be
	  displayed.

	* Playback: The play view is also left now after playing a list whose
	  last file is not playable, or which contains no playable files at
	  all.

	* Playback: Handle list items with no associated URL correctly (by not
	  attempting to play them).

	* Skipping: A few minor fixes for fast sequences of skip requests.

	* Skipping: Fix skipping over text files in both directions.

2017-03-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.3 released.

	* Skipping: More fixes for fast sequences of skip requests.

	* Stability: Fix occasional hangs and crashes caused by internal
	  communication failures. Requires dcpd v3.2 for full effect as there
	  was also a bug on the other side.

	* Misc: Slightly faster startup.

2017-03-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 4.0 released.

	* Audio routing: Register with TAPSwitch as audio source(s).

	* Audio routing: The player selects the audio source before starting
	  to play. It won't play anything before source selection has
	  succeeded.

	* Audio routing: Audio source selection by external means switches to
	  the associated view, if any.

	* Roon: Connect to playback D-Bus interface exported by TARoon and
	  react to now-playing signals. This makes TARoon available as a
	  non-selectable audio source just like the Smartphone App source.

	* Roon: Forward playback commands to TARoon using the same mechanisms
	  as for the StrBo streamplayer. This enables controlling play, pause,
	  and stop for Roon.

	* TA Control/Roon: Player permissions apply. There are only static
	  permissions whereas Roon requires dynamic permissions, but it's a
	  start.

2017-03-06  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.2 released.

	* Stability: Fix spurious crash.

2017-02-28  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.1 released.

	* Playback: Fixed problem with toggling between play and pause modes.

	* Playback: Fixed skipping backwards over problematic streams.

	* Skipping: Fast sequences of skip requests work reliably and do not
	  kill the directory traversal.

	* Skipping: Rewind threshold has been increased from 2 to 5 seconds.
	  This is because skipping backwards can be slow, especially on UPnP
	  lists, so even if skipping was clearly intended by the user, the
	  skip back command may be processed only after more than 2 seconds
	  into the track. Five seconds still feel natural and practical, so
	  here we go.

	* Stability: Fixed crash due to dangling file item pointer while
	  skipping quickly over long stretches of a list.

2017-02-16  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 3.0 released: Changes of D-Bus interfaces were necessary
	  which break compatibility with older version, hence the change of
	  the major version.

	* Cover art: Integrate with TACAMan. This primarily means taking
	  stream keys from streamplayer and listbrokers, and passing them to
	  streamplayer when queuing a stream. All the heavy lifting is done by
	  TACAMan.

2017-01-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.9 released.

	* Qobuz: Support gapless playback.

	* Skipping: Jumping back and forth between tracks works reliably, also
	  across directory boundaries.

	* Playback: Bit rate of streams can be restricted. In case there are
	  alternative streams to play for the same track or radio station, the
	  best stream which fits the configured maximum bit rate is selected.

	* Playback: Pictures, text files, and other non-playable audio files
	  are ignored and do not interrupt the currently playing list.

	* Playback: Failing streams are retried a few times in case they stop
	  playing unintendedly.

	* Playback: The number of prefetched of streams depends on context
	  now. In case of Internet radio, no prefetching is done. In case of
	  TIDAL and Qobuz, only a single stream is prefetched. In other cases,
	  up to 5 streams are prefetched.

	* UI: Improved handling of stream meta data. There should be no more
	  empty entries.

	* UI: Fixed various problems that appeared if the user skipped through
	  streams quickly.

	* Configuration: There is a configuration file for drcpd now. It can
	  be read out and manipulated using some new D-Bus interfaces for
	  generic configuration management.

	* Debugging: Add some useful logs at higher verbosity levels.

	* Compatibility: Requires streamplayer 2.0 to work, older versions are
	  not supported.

	* Compatibility: Requires listbrokers 1.29 to work, older versions are
	  not supported.

2016-12-06  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.8 released.

	* Playback: Pushing play in the smartphone app to resume a paused
	  stream works again as expected.

2016-11-25  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.7 released.

	* Debugging: Allow setting verbosity level over D-Bus.

2016-11-17  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.6 released.

	* Misc: Send title and URL to dcpd so that it is always up-to-date
	  with correct and consistent meta data. This worked already in v2.1,
	  but stopped working in v2.2 as a result of major changes applied
	  between the two versions.

2016-11-03  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.5 released.

	* User interface: Jump back from play view to browse view after
	  playing the last track of a list.

	* User interface: Avoid meta data display troubles in conjunction with
	  the smartphone app.

	* User interface: Fixed crash when trying to work with an empty list.

	* User interface: Fixed hanging system on startup in case of network
	  problems.

2016-10-24  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.4 released.

	* User interface: Selecting a track while another one is playing works
	  again as expected.

	* User interface: Show fallback title for those Internet radios that
	  do not send any meta data.

2016-09-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.3 released.

	* User interface: Fix showing root list at startup. This version
	  should not end up showing empty root lists anymore after startup
	  when the lists shouldn't be empty.

	* User interface: Fix reloading of lists after loss of network
	  connection.

	* User interface: Busy state updates are more reliable. This avoids
	  endless display of busy symbol.

	* Playback: Skipping backwards through Airable radio and podcast lists
	  works. It didn't work before because we tried to rewind to start
	  before attempting to skip.

	* Stability: Fix several lock-ups and crashes of the user interface.

2016-07-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.2 released.

	* Playback: The player component has been completely redesigned. It is
	  follows an MVC-like architecture now. This version, however, is a
	  poorly tested one. Any kind of problems may still occur in this
	  version.

	* Stability: Fix rare race-condition in asynchronous list handling
	  code.

2016-07-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.1 released.

	* User interface: Meta data updates are functional again.

	* Stability: Avoid crash on various occasions.

	* Airable: Logout fixed.

	* Misc: Remove many now unneeded log messages to reduce overall CPU
	  consumption.

2016-07-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 2.0 released.

	* Groundwork: Many D-Bus methods are invoked asynchronously now,
	  leading to vast improvement on perceived system response. Due to
	  project time constraints, not all parts have been reworked yet and
	  remain synchronous, but the foundation for moving more code from
	  synchronous to asynchronous messaging has been set.

	  A lot of code had to be touched to get this done, so this version
	  may actually be less stable than previous versions.

	* D-Bus: Method and signal handlers are decoupled from the D-Bus
	  context by an event queue. The intended effects of the D-Bus
	  handlers, especially those parts that can block or are
	  time-consuming, are processed in a different context so that D-Bus
	  communication is never blocked for long or unpredictable times.

	* Misc: Better tracking of busy state.

	* Misc: Avoid some memory leaks.

2016-05-19  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.21 released.

	* Airable: Log out using new D-Bus method for logging out from
	  external services, react on login/logout communicated via new D-Bus
	  signals.

2016-05-04  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.20 released.

	* Airable: Handle logout buttons in Airable.

	* DCP: Increase dcpd timeout to avoid lost messages between dcpd and
	  drcpd in really busy situations.

	* Misc: Adapt to latest changes in Streamplayer D-Bus interfaces.
	  Requires streamplayer 1.8 because of incompatible changes.

2016-04-25  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.19 released.

	* Playback: Continuing a paused stream does not lose the stream
	  information anymore.

2016-04-21  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.18 released.

	* User interface: Searching in lists outside of Airable domain is
	  possible. As long as the lists are sorted, hitting the search button
	  in UPnP or USB view opens a search dialog. The entered string is
	  searched within the currently displayed list, and the selection
	  moves to the entry whose prefix matches best.

	* User interface: Search button within Airable directory jumps
	  directly to the search form of the currently browsed domain.

	* User interface: Moving quickly through long lists by holding the up
	  or down key is actually useful now. It was way too slow in previous
	  versions.

	* User interface: Lists wrap around, jumping to the end of a list is
	  easy and fast now.

	* Stability: Avoid hanging process in various occasions. Some more
	  deadlocks fixed.

2016-04-14  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.17 released.

	* User interface: Broken TIDAL lists are being worked around. The
	  lists do not disappear anymore, but instead the extra empty lines
	  sent by TIDAL are displayed as unplayable "----" lines.

	* User interface: Search box can be reopened as expected after it has
	  been closed due to timeout or stop command.

	* Stability: Avoid hanging process in various occasions. There were
	  several deadlocks in the audio player module.

	* DRCP: Send proper context ID with search forms.

2016-04-08  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.16 released.

	* Playback: Use stream meta data preloaded from external sources where
	  suspected to be available. Currently, this includes the TIDAL and
	  Deezer sections of the Airable directory.

	* Playback: Various other fixes concerning display of stream meta
	  data.

	* TA Control: Catch stream meta data for externally started streams
	  and use them to generate DRC screen updates. Such streams usually
	  originate from the smartphone app.

2016-03-30  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.15 released.

	* User interface: Fix management of busy state indicator.

2016-03-22  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.14 released.

	* User interface: Avoid jumping back to root menu in various
	  situations, especially after having left the device alone for a
	  while.

	* DRCP: Fix screen ID of play view.

	* Stability: Avoid hanging process at shutdown time. Fixes long system
	  shutdown time and system update process.

2016-03-15  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.13 released.

	* Playback: All streams from Airable are played in linear list mode,
	  not single track mode.

	* Playback: Fix long and blocking "Buffering..." messages. This
	  happened for slow sources and may have blocked the display for
	  seconds or even minutes even though a stream was already playing.

	* Playback: Fix start playing of new stream while another stream is
	  playing.

	* Playback: Fix stop playing of streams (meta data are cleared).

2016-03-07  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.12 released.

	* DRC protocol: XML objects sent to the controlling peer are queued
	  when necessary. This means that display updates that previously got
	  lost are sent reliably one after the other now.

2016-03-03  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.11 released.

	* User interface: Support for Airable search forms. This involves
	  requesting and receiving search queries from the user when the user
	  tries to enter a search form.

	  In addition, a mechanism for preloaded queries is implemented as
	  well so that the SPI slave may actively push new queries to us.

	* DRCP: Extended list item types for the viewing pleasure.

2016-02-25  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.10 released.

	* User interface: Avoid screen full of dashes on list failures.

	* User interface: UPnP servers, USB devices, and search forms are not
	  shown as plain directories anymore.

2016-02-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.9 released.

	* Bug fix: Avoid log disruption by very long messages.

2016-02-10  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.8 released.

	* Playback: Make skipping back and forth streams through list
	  hierarchies more intuitive.

	  Requires streamplayer 1.5 because of D-Bus interface changes.

	* Playback: Fix skipping in playing of large directory hierarchies.

	* User interface: Show stream bit rate in more cases.

	* Misc: Fixed a few bugs in user interface.

2016-01-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.7 released.

	* Streaming: Improve interoperability with streams started from other
	  programs (such as dcpd when fulfilling smartphone app requests to
	  play certain streams).

	* Streaming: Inform SPI slave about currently playing stream title and
	  URL. Necessary for smartphone app support.

2016-01-12  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.6 released.

	* User interface: Indicate busy state and show "buffering" message
	  while waiting for Streamplayer to send its start notification.

	* User interface: Update German translation.

	* DRC protocol: Fixed XML output for play view updates.

	* DRC protocol: Send display updates every time a view is activated by
	  slave, even if the view is already active.

2015-12-15  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.5 released.

	* Playback: Skipping back and forth streams through list hierarchies
	  works.

	  Requires streamplayer 1.4 because of D-Bus interface changes.

	* List views: Refresh lists when they change. In particular, the UPnP
	  server list gets refreshed when servers are discovered or lost,
	  TuneIn lists and UPnP lists get refreshed when network connectivity
	  changes, and the USB device list gets refreshed when plugging
	  devices.

	* DRC protocol: Generate more compact XML data for speed.

	* Misc: Lots of internal changes with regard to playback handling.

2015-11-16  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.4 released.

	* Browsing: Send alternative stream title to SPI slave. The
	  alternative title is sent in the alttrack tag and is limited to a
	  length of 20 UTF-8 characters.

	  The alternative title is made from the name as it appeared in the
	  list the user selected the stream from. In the very unlikely case
	  that this string was also empty, the plain URL is used instead.

	* Playback: Fix queuing into Streamplayer in linear playback mode.

2015-11-03  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.3 released.

	* TuneIn view: Default playback mode in single track mode, not linear
	  scan with directory traversals.

	* Playback: Pressing OK or Play on a stream immediately plays that
	  stream. Pressing Stop beforehand is not required anymore.

	  Requires streamplayer 1.3 because of D-Bus interface changes.

	* Playback: Playing a directory is not allowed in single track mode.

	* Playback: Fix playback of most streams from a list.

2015-08-25  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.2 released.

	* Requires listbrokers 1.2 because of D-Bus interface changes.

	* Improve error handling: Network failures are handled in a much
	  better way, without freezes or dead displays.

2015-07-13  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.1 released.

	* Show version information in log, add --version option.

	* Fix crash while browsing UPnP directories.

2015-06-29  Robert Tiemann  <r.tiemann@ta-hifi.de>

	* Version 1.0 released.

	* First release for testing.


Copyright 2015, 2016, 2017 T+A elektroakustik GmbH & Co. KG
